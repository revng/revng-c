#
# This file is distributed under the MIT License. See LICENSE.md for details.
#
# RUN: %revngcliftopt /dev/null --import-model-types="import-all model=%s" | FileCheck %s

Types:
  - ID: 101
    Kind: PrimitiveType
    PrimitiveKind: Unsigned
    Size: 1
  - ID: 102
    Kind: PrimitiveType
    PrimitiveKind: Unsigned
    Size: 2
  - ID: 104
    Kind: PrimitiveType
    PrimitiveKind: Unsigned
    Size: 4

    # CHECK: #my_union = #clift.union<
    # CHECK:   id = 1001
    # CHECK:   name = "my_union"
    # CHECK:   fields = [
    # CHECK:     <
    # CHECK:       offset = 0
    # CHECK:       type = !clift.primitive<UnsignedKind 1>
    # CHECK:     >
    # CHECK:     <
    # CHECK:       offset = 0
    # CHECK:       type = !clift.primitive<UnsignedKind 2>
    # CHECK:     >
    # CHECK:     <
    # CHECK:       offset = 0
    # CHECK:       type = !clift.primitive<UnsignedKind 4>
    # CHECK:     >
    # CHECK:   ]
    # CHECK: >
    # CHECK: !my_union1 = !clift.defined<#my_union>
  - ID: 1001
    Kind: UnionType
    CustomName: "my_union"
    Fields:
      - Index: 0
        Type:
          UnqualifiedType: "/Types/101-PrimitiveType"
      - Index: 1
        Type:
          UnqualifiedType: "/Types/102-PrimitiveType"
      - Index: 2
        Type:
          UnqualifiedType: "/Types/104-PrimitiveType"
